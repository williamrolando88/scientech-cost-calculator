var R=Object.defineProperty,E=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var S=(c,a,r)=>a in c?R(c,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):c[a]=r,A=(c,a)=>{for(var r in a||(a={}))M.call(a,r)&&S(c,r,a[r]);if(L)for(var r of L(a))G.call(a,r)&&S(c,r,a[r]);return c},U=(c,a)=>E(c,P(a));var u=(c,a,r)=>(S(c,typeof a!="symbol"?a+"":a,r),r);import{j as B,r as F,R as J,a as W}from"./vendor.95703a94.js";const X=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}};X();const b=c=>+(Math.round(c+"e+2")+"e-2"),q=c=>{let{items:a,lot:{input:{fleteImpuestos:r,tramiteImportacion:i,fleteReal:n,agenteAduanero:s,logisticaInterna:h,ivaOrigen:N,fleteOrigen:x,comisionBancaria:m},output:{ivaCourier:f,totalLogisticaInt:p,fodinfa:g,arancel:o,ivaAduana:v,totalAduana:w,isd:y,pesoTotal:d}}}=c;f=0,p=0,g=0,o=0,v=0,w=0,y=0,d=0;let I=0,D=0;a.forEach(l=>{l.pesoItem=l.cantidad*l.peso,l.itemEXWValue=l.cantidad*l.precioUnitario*(100+N)/100,d+=l.pesoItem}),a.forEach(l=>{const C=l.pesoItem/d;l.itemFOBValue=l.itemEXWValue+x*C,l.itemISD=l.itemFOBValue*.05,l.itemCIFValue=(l.itemFOBValue+r*C)*1.01,l.itemFODINFA=l.itemCIFValue*.005,l.itemArancel=l.itemCIFValue*l.arancel/100,y+=l.itemISD,g+=l.itemFODINFA,o+=l.itemArancel,I+=l.itemFOBValue,D+=l.itemCIFValue});let O=i+n+s;return a.forEach(l=>{const C=l.pesoItem/d,T=l.itemFOBValue/I,j=l.itemFOBValue+l.itemFODINFA+l.itemArancel+l.itemISD+(O+h)*C+m*T,V=l.margen*j/100,k=(V+j)/l.cantidad;l.costoTotalUnitario=b(j),l.gananciaUnitaria=b(V/l.cantidad),l.pvpUnitario=b(k)}),v=(D+g+o)*.12,w=v+g+o,f=O*.12,p=O+f,f=b(f),p=b(p),g=b(g),o=b(o),v=b(v),w=b(w),y=b(y),d=b(d),I=b(I),{items:a,lot:{input:{fleteImpuestos:r,tramiteImportacion:i,fleteReal:n,agenteAduanero:s,logisticaInterna:h,ivaOrigen:N,fleteOrigen:x,comisionBancaria:m},output:{ivaCourier:f,totalLogisticaInt:p,fodinfa:g,arancel:o,ivaAduana:v,totalAduana:w,isd:y,pesoTotal:d}},totalFOBItems:I}},e=B.exports.jsx,t=B.exports.jsxs;class H extends F.exports.Component{render(){const{item:{index:a,descripcion:r,cantidad:i,peso:n,precioUnitario:s,arancel:h,margen:N,costoTotalUnitario:x,gananciaUnitaria:m,pvpUnitario:f},onUpdateArticle:p,onDeleteArticle:g}=this.props;return t("div",{className:"bg-slate-300 flex items-center text-center",children:[e("label",{className:"border w-12",children:a+1}),e("input",{className:"pl-2 border w-1/4",value:r,onChange:o=>p(o,a),name:"descripcion",placeholder:"descripcion",type:"text"}),e("input",{className:"pl-2 border w-1/12",value:i,onChange:o=>p(o,a),name:"cantidad",placeholder:"cantidad",type:"number",min:"1"}),e("input",{className:"pl-2 border w-1/12",value:n,onChange:o=>p(o,a),name:"peso",placeholder:"peso",type:"number",min:"0"}),e("input",{className:"pl-2 border w-1/12",value:s,onChange:o=>p(o,a),name:"precioUnitario",placeholder:"precioUnitario",type:"number",min:"0"}),e("input",{className:"pl-2 border w-1/12",value:h,onChange:o=>p(o,a),name:"arancel",placeholder:"arancel",type:"number",min:"0"}),e("input",{className:"pl-2 border w-1/12",value:N,onChange:o=>p(o,a),name:"margen",placeholder:"margen",type:"number",min:"0"}),e("label",{className:"border w-1/12",children:x}),e("label",{className:"border w-1/12",children:m}),e("label",{className:"border w-1/12",children:f}),t("button",{className:"border w-1/12 flex items-center justify-center gap-1 hover:text-red-600",onClick:()=>g(a),children:[e("span",{className:"material-icons text-base",children:"delete"}),e("span",{children:"Borrar"})]})]})}}class K extends F.exports.Component{render(){const{items:a,onUpdateArticle:r,onDeleteArticle:i,onAddArticle:n}=this.props;return t("div",{className:"border rounded-lg w-full p-6 ",children:[e("h2",{className:"text-lg font-bold mb-4",children:"Lista de Articulos"}),t("div",{className:"flex text-sm items-center bg-blue-800 text-center rounded text-white mr-4",children:[e("label",{className:"border-r w-12",children:"No."}),e("label",{className:"border-r w-1/4",children:"Descripcion"}),e("label",{className:"border-r w-1/12",children:"Cant."}),t("label",{className:"border-r w-1/12",children:["Peso Unitario ",e("br",{})," [lb]"]}),t("label",{className:"border-r w-1/12",children:["Precio Unitario ",e("br",{})," [USD]"]}),t("label",{className:"border-r w-1/12",children:["Arancel ",e("br",{})," [%]"]}),t("label",{className:"border-r w-1/12",children:["Margen ",e("br",{})," [%]"]}),t("label",{className:"border-r w-1/12",children:["Costo Total ",e("br",{}),"[USD]"]}),t("label",{className:"border-r w-1/12",children:["Ganancia ",e("br",{}),"[USD]"]}),t("label",{className:"border-r w-1/12",children:["PVP Unitario ",e("br",{}),"[USD]"]}),t("button",{className:"w-1/12 flex items-center justify-center hover:text-green-500 gap-1",onClick:n,children:[e("span",{children:"Agregar Item"}),e("span",{className:"material-icons text-lg",children:"add_circle"})]})]}),e("div",{className:"overflow-y-scroll max-h-60 rounded",children:a.map(s=>e(H,{item:s,onDeleteArticle:i,onUpdateArticle:r},s.index))})]})}}class _ extends F.exports.Component{render(){const{lot:{input:{fleteImpuestos:a,tramiteImportacion:r,fleteReal:i,agenteAduanero:n,logisticaInterna:s,ivaOrigen:h,fleteOrigen:N,comisionBancaria:x},output:{ivaCourier:m,totalLogisticaInt:f,fodinfa:p,arancel:g,ivaAduana:o,totalAduana:v,isd:w,pesoTotal:y}},onChangeLot:d}=this.props;return t("div",{className:"border rounded-lg w-full p-6",children:[e("h2",{className:"text-lg font-bold mb-4",children:"Costos por lote"}),t("div",{className:"flex justify-around",children:[t("div",{className:"border rounded",children:[e("h3",{className:"text-xl text-center font-semibold",children:"Logistica Internacional"}),t("div",{className:"flex flex-col px-4 py-2",children:[t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"Valor de flete para impuestos:"}),e("input",{className:"w-20 border pl-2",onChange:d,name:"fleteImpuestos",value:a,type:"number",min:"0"})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"Tramite de importacion:"}),e("input",{className:"w-20 border pl-2",onChange:d,name:"tramiteImportacion",value:r,type:"number",min:"0"})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"Valor de flete real:"}),e("input",{className:"w-20 border pl-2",onChange:d,name:"fleteReal",value:i,type:"number",min:"0"})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"Agente aduanero:"}),e("input",{className:"w-20 border pl-2",onChange:d,name:"agenteAduanero",value:n,type:"number",min:"0"})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"IVA Courier:"}),e("label",{className:"bg-slate-300 w-20 border pl-2",children:m})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56 font-semibold",children:"Total Pago Courier:"}),e("label",{className:"bg-slate-300 w-20 border font-semibold pl-2",children:f})]})]})]}),t("div",{className:"border rounded",children:[e("h3",{className:"text-xl text-center font-semibold",children:"Impuestos Aduaneros"}),t("div",{className:"flex flex-col px-4 py-2",children:[t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"FODINFA:"}),e("label",{className:"bg-slate-300 w-20 border pl-2",children:p})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"Aranceles:"}),e("label",{className:"bg-slate-300 w-20 border pl-2",children:g})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"IVA:"}),e("label",{className:"bg-slate-300 w-20 border pl-2",children:o})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56 font-semibold",children:"Total Pago Aduana:"}),e("label",{className:"bg-slate-300 w-20 font-semibold border pl-2",children:v})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56 font-semibold",children:"ISD:"}),e("label",{className:"bg-slate-300 w-20 font-semibold border pl-2",children:w})]})]})]}),t("div",{className:"flex flex-col gap-6",children:[t("div",{className:"border rounded",children:[e("h3",{className:"text-xl text-center font-semibold",children:"Valores adicionales en origen"}),t("div",{className:"flex flex-col px-4 py-2",children:[t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"IVA origen:"}),e("input",{className:"w-20 border pl-2",onChange:d,name:"ivaOrigen",value:h,type:"number",min:"0"})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"Flete en origen:"}),e("input",{className:"w-20 border pl-2",onChange:d,name:"fleteOrigen",value:N,type:"number",min:"0"})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"Tarifas bancarias:"}),e("input",{className:"w-20 border pl-2",onChange:d,name:"comisionBancaria",value:x,type:"number",min:"0"})]})]})]}),t("div",{className:"border rounded",children:[e("h3",{className:"text-xl text-center font-semibold",children:"Logistica Domestica"}),t("div",{className:"flex flex-col px-4 py-2",children:[t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"Peso total [lb]:"}),e("label",{className:"bg-slate-300 w-20 border pl-2",children:y})]}),t("div",{className:"flex items-center justify-between gap-4",children:[e("p",{className:"w-56",children:"Costo de envio:"}),e("input",{className:"w-20 border pl-2",onChange:d,name:"logisticaInterna",value:s,type:"number",min:"0"})]})]})]})]})]})]})}}var z="/assets/logo.946420ca.png";class Q extends F.exports.Component{constructor(){super(...arguments);u(this,"state",{proveedor:"",items:[],lot:{input:{fleteImpuestos:0,tramiteImportacion:0,fleteReal:0,agenteAduanero:0,logisticaInterna:0,ivaOrigen:0,fleteOrigen:0,comisionBancaria:0},output:{ivaCourier:0,totalLogisticaInt:0,fodinfa:0,arancel:0,ivaAduana:0,totalAduana:0,isd:0,pesoTotal:0}}});u(this,"reIndex",a=>a.map((r,i)=>(r.index=i,r)));u(this,"handleAddArticle",()=>{let a=[...this.state.items];const r={index:a.length,descripcion:"",cantidad:1,peso:0,precioUnitario:0,arancel:0,margen:0,costoTotalUnitario:0,gananciaUnitaria:0,pvpUnitario:0};a.push(r),a=this.reIndex(a),this.setState({items:a})});u(this,"handleUpdateArticle",(a,r)=>{this.setState({items:this.state.items.map(i=>i.index===r?U(A({},i),{[a.target.name]:a.target.name==="descripcion"?a.target.value:parseFloat(a.target.value)}):i)})});u(this,"handleDeleteArticle",a=>{let r=this.state.items.filter(i=>i.index!==a);r=this.reIndex(r),this.setState({items:r})});u(this,"handleChangeLot",a=>{this.setState({lot:U(A({},this.state.lot),{input:U(A({},this.state.lot.input),{[a.target.name]:parseFloat(a.target.value)})})})});u(this,"calculateValues",()=>{const a=q(this.state);this.setState(A({},a))});u(this,"handleReset",()=>{this.setState({proveedor:"",items:[],lot:{input:{fleteImpuestos:0,tramiteImportacion:0,fleteReal:0,agenteAduanero:0,logisticaInterna:0,ivaOrigen:0,fleteOrigen:0,comisionBancaria:0},output:{ivaCourier:0,totalLogisticaInt:0,fodinfa:0,arancel:0,ivaAduana:0,totalAduana:0,isd:0,pesoTotal:0}}})});u(this,"handleSave",()=>{const{proveedor:a,items:r,lot:{input:i},totalFOBItems:n}=this.state;if(!a){alert("Ingrese un proveedor");return}if(r.length===0){alert("Ingrese articulos");return}if(!n){alert("No se puede guardar sin calcular");return}const s=this.getLocalStorage();let h=[];r.forEach(m=>{h.push({index:m.index,descripcion:m.descripcion,cantidad:m.cantidad,peso:m.peso,precioUnitario:m.precioUnitario,arancel:m.arancel,margen:m.margen})});const N={index:0,date:new Date,proveedor:a,items:h,lotInput:i,FOBValue:n},x=[...s,N];localStorage.setItem("data",JSON.stringify(x)),this.handleReset()});u(this,"getLocalStorage",()=>{const a=JSON.parse(localStorage.getItem("data"));return a||[]});u(this,"handleChangeProveedor",a=>{this.setState({[a.target.name]:a.target.value}),console.log(this.state)})}render(){return t("div",{className:"bg-slate-50",children:[t("header",{className:"px-[10%] py-4 shadow-md flex justify-between  items-center",children:[e("img",{className:"h-10",src:z,alt:"SCIENTECH-logo"}),t("div",{className:"flex gap-4",children:[e("input",{className:"px-4 rounded border hover:shadow",name:"proveedor",type:"text",placeholder:"Ingrese un proveedor",value:this.state.proveedor,onChange:this.handleChangeProveedor}),e("button",{className:"bg-sky-500 px-4 py-2 rounded text-white border border-sky-500 hover:bg-slate-50 hover:text-black",onClick:this.handleSave,children:"Guardar"}),e("button",{className:"bg-sky-500 px-4 py-2 rounded text-white border border-sky-500 hover:bg-slate-50 hover:text-black",children:"Recuperar"})]})]}),t("div",{className:"px-[10%]  flex flex-col gap-6 mt-6 ",children:[t("div",{className:"border rounded-lg p-6 flex justify-between items-center",children:[e("h1",{className:"text-3xl font-semibold font-serif",children:"Calculadora de Importaciones"}),t("div",{className:"flex gap-6",children:[e("button",{className:"bg-sky-500 px-4 py-2 rounded text-white border  hover:bg-green-600 hover:text-white",onClick:this.calculateValues,children:"Calcular"}),e("button",{className:"bg-sky-500 px-4 py-2 rounded text-white border  hover:bg-red-600 hover:text-white",onClick:this.handleReset,children:"Borrar Formulario"})]})]}),e(_,{lot:this.state.lot,onChangeLot:this.handleChangeLot}),e(K,{items:this.state.items,onUpdateArticle:this.handleUpdateArticle,onDeleteArticle:this.handleDeleteArticle,onAddArticle:this.handleAddArticle})]})]})}}J.render(e(W.StrictMode,{children:e(Q,{})}),document.getElementById("root"));
